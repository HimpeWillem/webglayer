<script id="speed_vShader" type="x-shader/x-vertex">

      attribute vec4 wPoint;
      attribute float speed;
      
      uniform mat4 mapMatrix;
   	  uniform sampler2D uSampler;
      
      varying vec4 aPos;
      varying float aSpeed;
     
       
      void main() {
		  		
  		if (wPoint[0] >-1000000.){
			gl_Position =  mapMatrix*vec4(speed, 0., 0., 1.);;
        };    	
        
		gl_PointSize = 1.;
		
		// get data from filtering raster
		vec4 fdata = texture2D(uSampler, vec2(0.5, 0.5));
		
		//aPos = gl_Position;
		aPos = fdata;
		
		aSpeed = speed;
 		
      }
    </script>